{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import { LitElement, html, css } from '@esm/lit-all';\nimport { customElement, property } from '@esm/lit-all';\nimport type { IJavaEditor, ICompileResult } from '@esm/interfaces';\nimport '@esm/h2-core';\n\n@customElement('o2-java-editor')\nexport class O2JavaEditor extends LitElement implements IJavaEditor {\n  static styles = css`\n    :host {\n      display: block;\n      height: 100%;\n    }\n    \n    .java-editor {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n    \n    .toolbar {\n      padding: 8px;\n      border-bottom: 1px solid #e0e0e0;\n      display: flex;\n      gap: 8px;\n    }\n    \n    .code-editor {\n      flex: 1;\n      border: none;\n      padding: 12px;\n      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n      font-size: 14px;\n      resize: none;\n      outline: none;\n    }\n  `;\n\n  @property({ type: String })\n  value = '';\n\n  @property({ type: Boolean })\n  readOnly = false;\n\n  render() {\n    return html`\n      <div class=\"java-editor\">\n        <div class=\"toolbar\">\n          <h2-button variant=\"primary\" @h2-click=\"${this._handleCompile}\">Compile</h2-button>\n          <h2-button variant=\"secondary\" @h2-click=\"${this._handleFormat}\">Format</h2-button>\n        </div>\n        \n        <textarea \n          class=\"code-editor\"\n          .value=\"${this.value}\"\n          ?readonly=\"${this.readOnly}\"\n          placeholder=\"Enter Java code...\"\n          @input=\"${this._handleInput}\"\n        ></textarea>\n      </div>\n    `;\n  }\n\n  private _handleInput(e: Event) {\n    const target = e.target as HTMLTextAreaElement;\n    this.value = target.value;\n  }\n\n  private _handleCompile() {\n    this.compile();\n  }\n\n  private _handleFormat() {\n    this.format();\n  }\n\n  async load(data: string): Promise<void> {\n    this.value = data;\n  }\n\n  async save(): Promise<string> {\n    return this.value;\n  }\n\n  isDirty(): boolean {\n    return false;\n  }\n\n  validate(): boolean {\n    return true;\n  }\n\n  getValidationErrors(): string[] {\n    return [];\n  }\n\n  setReadOnly(readOnly: boolean): void {\n    this.readOnly = readOnly;\n  }\n\n  isReadOnly(): boolean {\n    return this.readOnly;\n  }\n\n  async compile(): Promise<ICompileResult> {\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    \n    return {\n      success: Math.random() > 0.3,\n      errors: Math.random() > 0.7 ? [\n        { line: 5, column: 10, message: 'Syntax error: missing semicolon', severity: 'error' }\n      ] : [],\n      warnings: []\n    };\n  }\n\n  format(): void {\n    this.value = this.value.replace(/\\s+/g, ' ').trim();\n  }\n\n  getSelectedText(): string {\n    return '';\n  }\n\n  insertText(text: string): void {\n    this.value += text;\n  }\n\n  goToLine(line: number): void {\n    // Implementation placeholder\n  }\n\n  findAndReplace(search: string, replace: string): void {\n    this.value = this.value.replace(new RegExp(search, 'g'), replace);\n  }\n\n\n  destroy(): void {\n    this.value = '';\n  }\n}\n\n"],"names":["O2JavaEditor","LitElement","html","target","data","readOnly","resolve","text","line","search","replace","css","__decorateClass","property","customElement"],"mappings":";;;;;;;AAMa,IAAAA,IAAN,cAA2BC,EAAkC;AAAA,EAA7D,cAAA;AAAA,UAAA,GAAA,SAAA,GAgCG,KAAA,QAAA,IAGG,KAAA,WAAA;AAAA,EAAA;AAAA,EAEX,SAAS;AACA,WAAAC;AAAA;AAAA;AAAA,oDAGyC,KAAK,cAAc;AAAA,sDACjB,KAAK,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKpD,KAAK,KAAK;AAAA,uBACP,KAAK,QAAQ;AAAA;AAAA,oBAEhB,KAAK,YAAY;AAAA;AAAA;AAAA;AAAA,EAInC;AAAA,EAEQ,aAAa,GAAU;AAC7B,UAAMC,IAAS,EAAE;AACjB,SAAK,QAAQA,EAAO;AAAA,EACtB;AAAA,EAEQ,iBAAiB;AACvB,SAAK,QAAQ;AAAA,EACf;AAAA,EAEQ,gBAAgB;AACtB,SAAK,OAAO;AAAA,EACd;AAAA,EAEA,MAAM,KAAKC,GAA6B;AACtC,SAAK,QAAQA;AAAA,EACf;AAAA,EAEA,MAAM,OAAwB;AAC5B,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,UAAmB;AACV,WAAA;AAAA,EACT;AAAA,EAEA,WAAoB;AACX,WAAA;AAAA,EACT;AAAA,EAEA,sBAAgC;AAC9B,WAAO;EACT;AAAA,EAEA,YAAYC,GAAyB;AACnC,SAAK,WAAWA;AAAA,EAClB;AAAA,EAEA,aAAsB;AACpB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,MAAM,UAAmC;AACvC,iBAAM,IAAI,QAAQ,CAAAC,MAAW,WAAWA,GAAS,GAAI,CAAC,GAE/C;AAAA,MACL,SAAS,KAAK,OAAA,IAAW;AAAA,MACzB,QAAQ,KAAK,OAAO,IAAI,MAAM;AAAA,QAC5B,EAAE,MAAM,GAAG,QAAQ,IAAI,SAAS,mCAAmC,UAAU,QAAQ;AAAA,MAAA,IACnF,CAAC;AAAA,MACL,UAAU,CAAC;AAAA,IAAA;AAAA,EAEf;AAAA,EAEA,SAAe;AACb,SAAK,QAAQ,KAAK,MAAM,QAAQ,QAAQ,GAAG,EAAE;EAC/C;AAAA,EAEA,kBAA0B;AACjB,WAAA;AAAA,EACT;AAAA,EAEA,WAAWC,GAAoB;AAC7B,SAAK,SAASA;AAAA,EAChB;AAAA,EAEA,SAASC,GAAoB;AAAA,EAE7B;AAAA,EAEA,eAAeC,GAAgBC,GAAuB;AAC/C,SAAA,QAAQ,KAAK,MAAM,QAAQ,IAAI,OAAOD,GAAQ,GAAG,GAAGC,CAAO;AAAA,EAClE;AAAA,EAGA,UAAgB;AACd,SAAK,QAAQ;AAAA,EACf;AACF;AArIaV,EACJ,SAASW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BhBC,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,QAAQ;AAAA,GA/Bfb,EAgCX,WAAA,SAAA,CAAA;AAGAY,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,SAAS;AAAA,GAlChBb,EAmCX,WAAA,YAAA,CAAA;AAnCWA,IAANY,EAAA;AAAA,EADNE,EAAc,gBAAgB;AAAA,GAClBd,CAAA;"}